!function(n){var o={};function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=n,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,n){t.exports=n(1)},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(2),_ajax=__webpack_require__(3),_pageview=__webpack_require__(4),_exposurer=_interopRequireDefault(__webpack_require__(5));window.JSON||(window.JSON={parse:function parse(jsonStr){return eval("("+jsonStr+")")},stringify:function(t){var e,n="";if(null===t)return String(t);switch(typeof t){case"number":case"boolean":return String(t);case"string":return'"'+t+'"';case"undefined":case"function":return undefined}switch(Object.prototype.toString.call(t)){case"[object Array]":n+="[";for(var o=0,i=t.length;o<i;o++)n+=((e=JSON.stringify(t[o]))===undefined?null:e)+",";return"["!==n&&(n=n.slice(0,-1)),n+="]";case"[object Date]":return'"'+(t.toJSON?t.toJSON():t.toString())+'"';case"[object RegExp]":return"{}";case"[object Object]":for(o in n+="{",t)t.hasOwnProperty(o)&&(e=JSON.stringify(t[o]))!==undefined&&(n+='"'+o+'":'+e+",");return"{"!==n&&(n=n.slice(0,-1)),n+="}";case"[object String]":return'"'+t.toString()+'"';case"[object Number]":case"[object Boolean]":return t.toString()}}}),document.querySelectorAll||(document.querySelectorAll=function(t){var e=document,n=e.documentElement.firstChild,o=e.createElement("STYLE");return n.appendChild(o),e.__qsaels=[],o.styleSheet.cssText=t+"{x:expression(document.__qsaels.push(this))}",window.scrollBy(0,0),e.__qsaels});var protocol=window.location.protocol,pageView=new _pageview.PageView({closeCb:null}),exposure=null,SDK={sdkVer:"3.0.18",verDesc:encodeURIComponent("http/https接口兼容"),reportUrl:protocol+"//twl.yccdn.com/dev/treport/pcm",sdkType:"2",businessType:"yichePcm",sourceInfo:"",osType:"",deviceModel:"",deviceBrand:"",containerType:"",pageUrl:"",prevPage:"",userId:"",userInfo:{},init_extend_para:{},openId:"",unionId:"",cookieId:"",userGuid:"",fingerprintId:"",sessionId:"",abTest:"",userFrom:"0",maxReportCount:100,stay_time:0,threshold:0,domainAccounts:"",clickId:"",rFailList:[],isLoaded:!1,protocol:protocol,reportUrlMap:{dev:protocol+"//twl.yccdn.com/dev/treport/pcm",prod:protocol+"//g.yccdn.com/report/pcm"},keysMap:{rFailList:"report-fail-list",rCookieId:"report-cookie-id",rSourceId:"report-source-id",rDeviceId:"report-device-id",rUserinfoId:"report-userinfo-id",rRoutesId:"report-routes-id",rInitId:"report-init-id",rSourceUrlKey:"source",rUserFromId:"report-user-from-id"},addEvents:function(t,e,n,o){t.addEventListener?t.addEventListener(e,n,o):t.attachEvent("on"+e,n)},beforeInit:function(t){void 0===t&&(t={});var e=this.keysMap.rInitId;window.localStorage.setItem(e,JSON.stringify(t)),this.businessType=t.businessType||"yichePcm"},exposureInit:function(t){var o=this;void 0===t&&(t={}),console.log("init");var e={threshold:t.threshold?t.threshold:.8,time:t.time?t.time:2e3};this.threshold=e.threshold?e.threshold:.8,(exposure=exposure||new _exposurer["default"](e,function(t){var e=t._time,n=t.target.getAttribute("data-exposure-extend")||{};o.sendPageExposure({time:e,data:n})})).observe(".sdk-exposure")},routerInit:function(t){void 0===t&&(t={}),this.routerExposure()},routerExposure:function(){var i=this;exposure&&0<exposure.intersectionArr.length&&exposure.intersectionArr.forEach(function(t,e){var n,o;t.target&&(n=(new Date).getTime(),t._time=n-i.intersectionArr[e].date,t._time>=options.time&&(o=t.target.getAttribute("data-exposure-extend")||{},i.sendPageExposure({time:t._time,data:o})),exposure.intersectionArr.splice(e,1))})},init:function(){var t=this;console.log("【SDK_ALL版本】 "+this.sdkVer),this.setPageRoutes(),this.getLocalCookies(),this.getSourceByUrlParams(),this.getUserFrom(),this.setDomainCookie(),this.setCurrentCookie(),this.addEvents(window,"load",function(){setTimeout(function(){t.isLoaded||t.setBeforeEvent()},1e3)}),setTimeout(function(){t.isLoaded||t.setBeforeEvent()},5e3)},setBeforeEvent:function(){this.setPagePath(),this.DurationsBefore(),this.pageUrl=window.location.href,this.addElementEvent(),this.addTagElementEvent(),this.isLoaded=!0},DurationsBefore:function(){var e=this;pageView.closeCb=function(t){e.stay_time=t.stay_time,e.sendPageDurations({bury_point_type:2})}},isHashChanged:function(){return this.getPageRoutes()!==window.location.href},sendPage:function(t){void 0===t&&(t={}),this.getAllData(Object.assign({},t,{type:"1"}))},sendPageEvent:function(t){void 0===t&&(t={}),this.getAllData(Object.assign({},t,{type:"2"}))},sendPageExposure:function(t){void 0===t&&(t={}),this.getAllData(Object.assign({},t,{type:"3"}))},sendPageDurations:function(t){void 0===t&&(t={}),this.getAllData(Object.assign({},t,{type:"4"}))},sendPagePlay:function(t){void 0===t&&(t={}),this.getAllData(Object.assign({},t,{type:"5"}))},getAllData:function(s){var a=this;this.getInitData(),this.setPageRoutes(),this.getUserInfo(),this.getDeviceInfo();var c=this.getTimeMs()+"";new Promise(function(t,e){var n=Object.assign({},a.userInfo,a.init_extend_para),o=JSON.stringify(n||{});a.sourceInfo=a.getSourceByUrlParams(),a.osType=a.getOsType(),a.prevPage=a.getPageRoutes()?a.getPageRoutes():document.referrer;var i={filter:s.filter||{},bury_point_type:s.bury_point_type||1,stay_time:a.stay_time,event_id:s.event_id||"",event_type:s.type,user_id:a.userId,cookie:a.cookieId,userGuid:a.userGuid,session_id:a.sessionId,sdk_type:a.sdkType,create_time:c,source_extend_para:a.sourceInfo,busi_extend_para:s.data,init_extend_para:o,busi_type:a.businessType,abtest:a.abTest},r={sdk_version:a.sdkVer,platform:a.osType,page_url:window.location.href,page_id:window.location.hostname,unionid:a.unionId,model:a.deviceModel,brand:a.deviceBrand,page_prev:a.prevPage,user_from:a.userFrom,os_version:"",os:"",browser:"",browser_version:"",screen_width:window.screen.width,screen_height:window.screen.height,project_name:"",title:document.title,is_first_time:a.getFirstInto(),random_id:a.getRandomId(),valid_time:s.time,threshold:a.threshold};i.data=JSON.stringify(r),t(i)}).then(function(t){a.reportData(t)})["catch"](function(t){console.log(t)})},reportData:function(t){var e=Array.isArray(t)?t:[t],n=window.navigator.userAgent;"undefined"!=typeof navigator&&navigator.sendBeacon&&-1==n.indexOf("MQQBrowser")&&-1==n.indexOf("UCBrowser")?navigator.sendBeacon(this.reportUrl,JSON.stringify(e)):(0,_ajax.ajax)({url:this.reportUrl,type:"POST",async:!1,data:JSON.stringify(e),success:function(t){console.log("上报成功")},error:function(t){console.log("上报失败2")}})},getRandomId:function(){var t=(new Date).getTime();return Math.floor(9e5*Math.random())+1e5+t},createCookies:function(){var t=this.keysMap.rCookieId,e=Math.floor(9e8*Math.random())+1e8+"_"+this.getTimeMs();return window.sessionStorage.setItem(t,e),this.setCookie(t,e),e},getLocalCookies:function(){var t=this.keysMap.rCookieId;this.sessionId=window.sessionStorage.getItem(t)||this.createCookies()},getSourceByUrlParams:function(){var t=this.keysMap.rSourceUrlKey,e=this.keysMap.rSourceId,n=this.getSearchParams(t)||"";return""===n.trim()&&(n=window.sessionStorage.getItem(e)||""),window.sessionStorage.setItem(e,n),n},setReportFailData:function(t){var e=this.keysMap.rFailList,n=window.localStorage.getItem(e),o=n&&JSON.parse(n)||[],o=[].concat([t],o);window.localStorage.setItem(e,JSON.stringify(o))},formatFixedDate:function(t,e){if("number"==typeof t&&(t=new Date(t)),!t instanceof Date)return"";var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours()%12==0?12:t.getHours()%12,"H+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var o in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(e)&&(e=e.replace(RegExp.$1,(1<RegExp.$1.length?2<RegExp.$1.length?"星期":"周":"")+{0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"}[t.getDay()+""])),n)new RegExp("("+o+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?n[o]:("00"+n[o]).substr((""+n[o]).length)));return e},getTimeMs:function(){return(new Date).getTime()},setCookie:function(t,e,n){void 0===n&&(n={});var o,i="";"number"==typeof n.expires&&((o=new Date).setDate(o.getDate()+n.expires),i+=";expires="+o),i+=";path="+(n.path?n.path:"/"),n.domain&&(i+=";domain="+n.domain),document.cookie=t+"="+e+i},getCookie:function(t){for(var e=document.cookie.replace(/\s/g,"").split(";"),n=0;n<e.length;n++){var o=e[n].split("=");if(o[0]===t)return o[1]}return""},setCurrentCookie:function(){this.cookieId=this.getCookie("auto_id")||window.AUTOWEBLOG_ID||"",this.userGuid=this.getCookie("UserGuid")||this.getCookie("CIGUID")||""},setDomainCookie:function(){var t=window.AUTOWEBLOG_ID||"",e=(window.AUTOWEBLOG_FirstTime,window.AUTODOMAIN||"");window.AUTOREPORT_DOMAIN;this.getCookie("auto_id")||this.setCookie("auto_id",t,{expires:1e4,domain:e,path:"/"})},removeCookie:function(t,e){void 0===e&&(e={}),e.expires=-1,this.setCookie(t,"",e)},getSearchParams:function(t){var e,n=window.location.search.substr(1);""===n.trim()&&(n=-1<(e=window.location.hash.substr(1)).indexOf("?")?e.match(/\?(\S*)/)[1]:"");var o={};return n.split("&").forEach(function(t){var e=t.split("=");o[e[0]]=e[1]}),decodeURIComponent(o[t]||"")},getOsType:function(){var t=window.navigator.userAgent;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))?"m":"pc"},setDeviceInfo:function(t){void 0===t&&(t={});var e=this.keysMap.rDeviceId;window.localStorage.setItem(e,JSON.stringify(t))},getDeviceInfo:function(){var t=this.keysMap.rDeviceId,e=window.localStorage.getItem(t)||{};this.deviceModel=e.model||"",this.deviceBrand=e.brand||""},listenPageRoutes:function(){var t=this;setInterval(function(){t.setPageRoutes()},100)},setPageRoutes:function(){var t=this.keysMap.rRoutesId,e=window.location.href,n=window.sessionStorage.getItem(t)||"",o=n&&JSON.parse(n)||{};""===n?o={0:"",1:e}:o[1]!==e&&(o={0:Object.assign({},o)[1],1:e}),window.sessionStorage.setItem(t,JSON.stringify(o))},getPageRoutes:function(t){void 0===t&&(t="0");var e=this.keysMap.rRoutesId;return window.sessionStorage.getItem(e)?JSON.parse(window.sessionStorage.getItem(e))[t]:""},setUserInfo:function(t){void 0===t&&(t={});var e=this.keysMap.rUserinfoId,n=JSON.parse(window.localStorage.getItem(e)||"{}"),n=Object.assign({},n,t);window.localStorage.setItem(e,JSON.stringify(n))},getUserInfo:function(){var t=this.keysMap.rUserinfoId,e=JSON.parse(window.localStorage.getItem(t)||"{}");this.userInfo=e.data||{},this.userId=e.userId||"",this.openId=e.openId||"",this.unionId=e.unionId||""},getInitData:function(){var t=this.keysMap.rInitId,e=JSON.parse(window.localStorage.getItem(t)||"{}");this.init_extend_para=e.data,this.reportUrl="dev"===e.envType?this.reportUrlMap.dev:this.reportUrlMap.prod},onAppUnload:function(){var e=this;window.onbeforeunload=function(t){window.localStorage.setItem("app-leave-time",(new Date).toLocaleString()),e.sendFailList()}},sendFailList:function(){var n=this,t=window.navigator.userAgent,o=this.keysMap.rFailList;this.rFailList=JSON.parse(window.localStorage.getItem(o)||"[]");var e,i=this.rFailList.slice(0,this.maxReportCount);i&&0<i.length&&("undefined"!=typeof navigator&&navigator.sendBeacon&&-1==t.indexOf("MQQBrowser")&&-1==t.indexOf("UCBrowser")?(e=navigator.sendBeacon(this.reportUrl,JSON.stringify(i)),console.log(e)):(0,_ajax.ajax)({url:this.reportUrl,type:"POST",async:!1,data:JSON.stringify(i),success:function(t){console.log("上报成功");var e=n.rFailList.slice(n.maxReportCount);window.localStorage.getItem(o,JSON.stringify(e))},error:function(t){console.log(t),console.log("上报失败2")}}))},setUserFrom:function(t){void 0===t&&(t="0"),t+="";var e=this.keysMap.rUserFromId;window.localStorage.setItem(e,t),this.userFrom=t},getUserFrom:function(){var t=window.localStorage.getItem(this.keysMap.rUserFromId);this.userFrom=t||"0"},getFirstInto:function(){var t=window.localStorage.getItem("first-into");return(t=1===Number(t))||window.localStorage.setItem("first-into","1"),!t},setPagePath:function(t){var e=""!==window.location.hash?window.location.pathname+""+window.location.hash:window.location.pathname,n={domain:window.location.host,title:document.title,path:e,xpath:"",url:window.location.href,bury_user_id:""};t&&t(n),this.sendPage({filter:n,bury_point_type:2})},addElementEvent:function(){var r=this;this.addEvents(document,"click",function(t){var e,n={};"workBi"!=r.businessType&&"norBI"!=r.businessType||(e=r.getPageRoutes())&&r.pageUrl!==e&&e&&(r.setPagePath(function(t){n=t}),r.pageUrl=e);var o=t||window.event,i=(o.target||o.srcElement).id||"";o&&(n=r.filterParams(o)),n.element_id=i,r.sendPageEvent({filter:n,bury_point_type:2})},!1)},addTagElementEvent:function(){for(var s=this,a=document.querySelectorAll("[data-ycautologid],[data-ycautolog-extend]"),t=function t(r){s.addEvents(a[r],"click",function(t){console.log(t.currentTarget,222);var e,n={},o=t||window.event,i=(o.target||o.srcElement).id||"";o&&(n=s.filterParams(o)),n.element_id=i,a[r].getAttribute("data-ycautologid")?s.sendPageEvent({event_id:a[r].getAttribute("data-ycautologid")||"",data:a[r].getAttribute("data-ycautolog-extend")||{},filter:n,bury_point_type:1}):(e=s.getParentElmId(a[r]),s.sendPageEvent({event_id:e||"",data:a[r].getAttribute("data-ycautolog-extend")||{},filter:n,bury_point_type:1}))},!1)},e=0;e<a.length;e++)t(e)},getParentElmId:function(t){return console.log(t.parentNode.nodeName,1),!(!t.parentNode||"BODY"===t.parentNode.nodeName.toUpperCase())&&(t.parentNode.getAttribute("data-ycautologid")?t.parentNode.getAttribute("data-ycautologid"):this.getParentElmId(t.parentNode))},filterParams:function(t){var e=t.target||t.srcElement,n=this.readXPath(t),o=this.getIndex(e),i=""!==window.location.hash?window.location.pathname+""+window.location.hash:window.location.pathname;return{tagName:e.tagName,text:e.innerText,domain:window.location.host,index:o,title:document.title,path:i,xpath:n,bury_user_id:""}},getIndex:function(n){void 0===n&&(n={});var o=0;return n.parentNode&&null!=n.parentNode.children&&[].forEach.call(n.parentNode.children,function(t,e){if(n===t)return o=e}),o},readXPath:function(t){var e=t.path||t.composedPath&&t.composedPath()||[],n="";return e.forEach(function(t,e){t!==window&&"#document"!==t.nodeName&&"HTML"!==t.nodeName&&"BODY"!==t.nodeName&&(n+="/"+t.nodeName.toLowerCase()+(t.id?"#"+t.id:t.className?"."+t.className:""))}),n}};SDK.init(),window.$SDK_ALL=SDK},function(t,e){t.exports=function(t){return t&&t.__esModule?t:{"default":t}}},function(t,e,n){"use strict";function r(t){if("object"!=typeof t)return t;var e="";for(var n in t)e+=n+"="+t[n]+"&";return e=e.substring(0,e.length-1)}Object.defineProperty(e,"__esModule",{value:!0}),e.ajax=function(){var t={type:(arguments[0].type||"GET").toUpperCase(),url:arguments[0].url||"",async:arguments[0].async||!1,data:arguments[0].data||null,dataType:arguments[0].dataType||"json",contentType:arguments[0].contentType||"application/json; charset=utf-8",beforeSend:arguments[0].beforeSend||function(){},success:arguments[0].success||function(){},error:arguments[0].error||function(){}},e=!!window.ActiveXObject,n=document.documentMode;{var o,i;e&&n<=11?(console.log(n),(o=new XDomainRequest).open(t.type,t.url,!1),o.onload=function(){},o.onerror=function(){t.error(data)},o.send(r(t.data))):(t.beforeSend(),(i=function(){{if(window.ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");if(window.XMLHttpRequest)return new XMLHttpRequest}}()).open(t.type,t.url,!1),i.send(r(t.data)),1==t.async&&(i.onreadystatechange=function(){4==i.readyState&&(200==i.status?t.success(i.response):t.error())}),0==t.async&&(200==i.status?t.success(i.response):t.error(i.status,i.statusText)))}}},function(t,e,n){"use strict";function o(t){this.entry_time=[],this.hidden_time=[],this.split_time=[],this.stay_time=0,this.bTracked=!1,this.closeCb=t&&t.closeCb?t.closeCb:null,this.init()}Object.defineProperty(e,"__esModule",{value:!0}),(e.PageView=o).prototype.addEventListener=function(t,e,n,o){t.addEventListener?t.addEventListener(e,n,o):t.attachEvent("on"+e,n)},o.prototype.countEntryTime=function(){this.entry_time.push((new Date).getTime())},o.prototype.countHiddenTime=function(){this.hidden_time.push((new Date).getTime())},o.prototype.getAnalysisData=function(){for(var t=this.entry_time,e=this.hidden_time,n=0;n<t.length;n++){var o=+(e[n]-t[n]).toFixed();this.split_time.push(o)}for(var i=0,r=0;r<this.split_time.length;r++)i+=this.split_time[r];return i=+i.toFixed(),this.stay_time=i,{split_time:this.split_time,stay_time:this.stay_time}},o.prototype.setAnalysis=function(){var t=this.getAnalysisData();t.stay_time&&this.closeCb&&this.closeCb(t)},o.prototype.initCloseWindow=function(){var e=this;this.addEventListener(window,"beforeunload",function(t){!1===e.bTracked&&(e.bTracked=!0,e.countHiddenTime(),e.setAnalysis())},!1)},o.prototype.initChangeVisible=function(){var t,e,n=this;"undefined"!=typeof document.hidden?(t="hidden",e="visibilitychange"):"undefined"!=typeof document.msHidden?(t="msHidden",e="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(t="webkitHidden",e="webkitvisibilitychange"),this.addEventListener(document,e,function(){document[t]?n.countHiddenTime():n.countEntryTime()},!1)},o.prototype.init=function(){this.countEntryTime(),this.initChangeVisible(),this.initCloseWindow()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0,n(6);var o=function(){function t(i,r){var s=this;if(!r||"function"!=typeof r)throw new Error("need callback or selector param");this.intersectionArr=[],this.intersectionObserver=new IntersectionObserver(function(t){t.forEach(function(t,e){var n,o;console.log(e,222),t.target&&(t.intersectionRatio>=i.threshold?s.intersectionArr[e]||(n=(new Date).getTime(),t.date=n,s.intersectionArr[e]=t):s.intersectionArr[e]&&(o=(new Date).getTime(),t._time=o-s.intersectionArr[e].date,console.log(t._time,i.time),t._time>=i.time&&r(t),s.intersectionArr.splice(e,1)),console.log(s.intersectionArr,5555))})},{threshold:[i.threshold]}),window.onbeforeunload=function(t){0<s.intersectionArr.length&&s.intersectionArr.forEach(function(t,e){var n;t.target&&(n=(new Date).getTime(),t._time=n-s.intersectionArr[e].date,t._time>=i.time&&r(t),s.intersectionArr.splice(e,1))})}}var e=t.prototype;return e.observe=function(t,e){var n,o=this;this.intersectionObserver&&t&&(n=[],(n=this.isDOM(t)?[t]:document.querySelectorAll(t)).length&&n.forEach(function(t){!e&&t.__wg__tracker__exposured__||(t.__wg__tracker__exposured__=!0,console.log("observe"),o.intersectionObserver.observe(t))}))},e.disconnect=function(){this.intersectionObserver&&this.intersectionObserver.disconnect()},e.isDOM=function(t){return!!t&&("object"==typeof HTMLElement?t instanceof HTMLElement:"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName)},t}();e["default"]=o},function(t,e){!function(){"use strict";var _,n,b,I;function s(t){try{return t.defaultView&&t.defaultView.frameElement||null}catch(e){return null}}function u(t){this.time=t.time,this.target=t.target,this.rootBounds=d(t.rootBounds),this.boundingClientRect=d(t.boundingClientRect),this.intersectionRect=d(t.intersectionRect||r()),this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,o=this.intersectionRect,i=o.width*o.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function t(t,e){var n,o,i,r=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(r.root&&1!=r.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),o=this.THROTTLE_TIMEOUT,i=null,function(){i=i||setTimeout(function(){n(),i=null},o)}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(r.rootMargin),this.thresholds=this._initThresholds(r.threshold),this.root=r.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function a(t,e,n,o){"function"==typeof t.addEventListener?t.addEventListener(e,n,o||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function c(t,e,n,o){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,o||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function E(t){var e;try{e=t.getBoundingClientRect()}catch(n){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):r()}function r(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function d(t){return!t||"x"in t?t:{top:t.top,y:t.top,bottom:t.bottom,left:t.left,x:t.left,right:t.right,width:t.width,height:t.height}}function k(t,e){var n=e.top-t.top,o=e.left-t.left;return{top:n,left:o,height:e.height,width:e.width,bottom:n+e.height,right:o+e.width}}function e(t,e){for(var n=e;n;){if(n==t)return!0;n=x(n)}return!1}function x(t){var e=t.parentNode;return 9==t.nodeType&&t!=_?s(t):e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}"object"==typeof window&&("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}}):(_=function(){for(var t=window.document,e=s(t);e;)e=s(t=e.ownerDocument);return t}(),n=[],I=b=null,t.prototype.THROTTLE_TIMEOUT=100,t.prototype.POLL_INTERVAL=null,t.prototype.USE_MUTATION_OBSERVER=!0,t._setupCrossOriginUpdater=function(){return b=b||function(t,e){I=t&&e?k(t,e):r(),n.forEach(function(t){t._checkForIntersections()})}},t._resetCrossOriginUpdater=function(){I=b=null},t.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},t.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},t.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},t.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},t.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter(function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||1<t)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]})},t.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map(function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},t.prototype._monitorIntersections=function(e){var n,o,i,t,r=e.defaultView;r&&-1==this._monitoringDocuments.indexOf(e)&&(n=this._checkForIntersections,i=o=null,this.POLL_INTERVAL?o=r.setInterval(n,this.POLL_INTERVAL):(a(r,"resize",n,!0),a(e,"scroll",n,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in r&&(i=new r.MutationObserver(n)).observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(e),this._monitoringUnsubscribes.push(function(){var t=e.defaultView;t&&(o&&t.clearInterval(o),c(t,"resize",n,!0)),c(e,"scroll",n,!0),i&&i.disconnect()}),e==(this.root&&this.root.ownerDocument||_)||(t=s(e))&&this._monitorIntersections(t.ownerDocument))},t.prototype._unmonitorIntersections=function(o){var i,t,e,n=this._monitoringDocuments.indexOf(o);-1!=n&&(i=this.root&&this.root.ownerDocument||_,this._observationTargets.some(function(t){if((e=t.element.ownerDocument)==o)return!0;for(;e&&e!=i;){var e,n=s(e);if((e=n&&n.ownerDocument)==o)return!0}return!1})||(t=this._monitoringUnsubscribes[n],this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),t(),o==i||(e=s(o))&&this._unmonitorIntersections(e.ownerDocument)))},t.prototype._unmonitorAllIntersections=function(){var t=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0;for(var e=this._monitoringUnsubscribes.length=0;e<t.length;e++)t[e]()},t.prototype._checkForIntersections=function(){var a,c;!this.root&&b&&!I||(a=this._rootIsInDom(),c=a?this._getRootRect():r(),this._observationTargets.forEach(function(t){var e=t.element,n=E(e),o=this._rootContainsTarget(e),i=t.entry,r=a&&o&&this._computeTargetAndRootIntersection(e,n,c),s=t.entry=new u({time:window.performance&&performance.now&&performance.now(),target:e,boundingClientRect:n,rootBounds:b&&!this.root?null:c,intersectionRect:r});i?a&&o?this._hasCrossedThreshold(i,s)&&this._queuedEntries.push(s):i&&i.isIntersecting&&this._queuedEntries.push(s):this._queuedEntries.push(s)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this))},t.prototype._computeTargetAndRootIntersection=function(t,e,n){if("none"!=window.getComputedStyle(t).display){for(var o,i,r,s,a,c,u,d,l=e,h=x(t),p=!1;!p&&h;){var g,f,m,w,v=null,y=1==h.nodeType?window.getComputedStyle(h):{};if("none"==y.display)return null;if(h==this.root||9==h.nodeType?(p=!0,h==this.root||h==_?b&&!this.root?!I||0==I.width&&0==I.height?l=v=h=null:v=I:v=n:(f=(g=x(h))&&E(g),m=g&&this._computeTargetAndRootIntersection(g,f,n),f&&m?(h=g,v=k(f,m)):l=h=null)):h!=(w=h.ownerDocument).body&&h!=w.documentElement&&"visible"!=y.overflow&&(v=E(h)),v&&(o=v,i=l,d=u=c=a=s=r=void 0,r=Math.max(o.top,i.top),s=Math.min(o.bottom,i.bottom),a=Math.max(o.left,i.left),c=Math.min(o.right,i.right),d=s-r,l=0<=(u=c-a)&&0<=d?{top:r,bottom:s,left:a,right:c,width:u,height:d}:null),!l)break;h=h&&x(h)}return l}},t.prototype._getRootRect=function(){var t,e,n;return n=this.root?E(this.root):(t=_.documentElement,e=_.body,{top:0,left:0,right:t.clientWidth||e.clientWidth,width:t.clientWidth||e.clientWidth,bottom:t.clientHeight||e.clientHeight,height:t.clientHeight||e.clientHeight}),this._expandRectByRootMargin(n)},t.prototype._expandRectByRootMargin=function(n){var t=this._rootMarginValues.map(function(t,e){return"px"==t.unit?t.value:t.value*(e%2?n.width:n.height)/100}),e={top:n.top-t[0],right:n.right+t[1],bottom:n.bottom+t[2],left:n.left-t[3]};return e.width=e.right-e.left,e.height=e.bottom-e.top,e},t.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,o=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==o)for(var i=0;i<this.thresholds.length;i++){var r=this.thresholds[i];if(r==n||r==o||r<n!=r<o)return!0}},t.prototype._rootIsInDom=function(){return!this.root||e(_,this.root)},t.prototype._rootContainsTarget=function(t){return e(this.root||_,t)&&(!this.root||this.root.ownerDocument==t.ownerDocument)},t.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},t.prototype._unregisterInstance=function(){var t=n.indexOf(this);-1!=t&&n.splice(t,1)},window.IntersectionObserver=t,window.IntersectionObserverEntry=u))}()}]);